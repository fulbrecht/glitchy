(()=>{"use strict";var e={144:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,s){function i(e){try{a(o.next(e))}catch(e){s(e)}}function c(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}a((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,s,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,o=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){i.label=c[1];break}if(6===c[0]&&i.label<r[1]){i.label=r[1],r=c;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(c);break}r[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],o=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var s,i=n(127),c="",a=0,l=0,u=[];function f(){s.remove(),l=0}function p(){var e=u[a].message,t=u[a].response;if(c)if("Ask a question to your future self"===e){var n=prompt(e);if(n){var o={message:n,response:""};console.log(typeof u),console.log(o),u.push(o)}}else t?confirm('Would you like to change your answer to "'.concat(e,'" from "').concat(t,'"?'))&&(u[a].response=prompt(e)):u[a].response=prompt(e);else c=prompt("What is your name?"),chrome.storage.local.set({username:c});chrome.storage.local.set({glitchPrompts:u}).then((function(){console.log('Response to "'+e+'" is "'+u[a].response+'".')}))}function h(e,t){return Math.floor(Math.random()*(t-e+1))+e}u.push({message:"Ask a question to your future self",response:""}),function(){return o(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,chrome.storage.local.get(["username"])];case 1:return[2,e.sent().username]}}))}))}().then((function(e){c=e})),function(){return o(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,chrome.storage.local.get(["glitchPrompts"])];case 1:return[2,e.sent().glitchPrompts]}}))}))}().then((function(e){e&&(u.push.apply(u,e.slice(1)),(0,i.test)()),function(){if(0===l){var e=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];(r=o).offsetHeight>0&&r.offsetWidth>0&&t.push(o)}var r;return t}(document.getElementsByTagName("*")),t=e[h(0,e.length-1)];a=h(0,u.length-1),console.log(u),s=function(e){var t=e.getBoundingClientRect(),n=document.createElement("div");n.classList.add("glitch"),n.style.top="".concat(t.top+window.scrollY,"px"),n.style.left="".concat(t.left+window.scrollX,"px"),n.style.width="".concat(t.width,"px"),n.style.height="".concat(t.height,"px"),function(e){for(var t=e.parentElement;t;){if("fixed"===window.getComputedStyle(t).position)return!0;t=t.parentElement}return!1}(e)?n.style.position="fixed":function(e){for(var t=e.parentElement;t;){if("sticky"===window.getComputedStyle(t).position)return!0;t=t.parentElement}return!1}(e)?n.style.position="sticky":n.style.position="absolute",n.addEventListener("mouseleave",f),n.addEventListener("click",p),document.body.appendChild(n);var o=document.createElement("span");return o.textContent=c?"Hi ".concat(c):"Click Me",n.appendChild(o),n}(t),console.log(s),console.log("Glitch inserted"),l=1}}()}))},127:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.test=void 0,t.test=function(){console.log("This is a test")}}},t={};!function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}(144)})();